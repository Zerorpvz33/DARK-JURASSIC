 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Dark Jurassic | Admin Console</title>
    <link rel="icon" type="image/png" href="logo.png">
    
    <!-- External Assets -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    
    <!-- Firebase SDKs (Compat Mode) -->
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>

    <style>
        :root {
            --primary: #e63946;
            --primary-glow: rgba(230, 57, 70, 0.5);
            --bg-dark: #050505;
            --bg-panel: #0a0a0a;
            --border: rgba(255, 255, 255, 0.1);
            --text-main: #eeeeee;
            --text-dim: #888888;
            --sidebar-width: 280px;
            --nav-height: 70px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'JetBrains+Mono', monospace;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* --- Background FX --- */
        .scanlines {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
                        linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 4px, 3px 100%;
            pointer-events: none; z-index: 9999; opacity: 0.6;
        }

        /* --- Navigation --- */
        header {
            height: var(--nav-height);
            background: rgba(5, 5, 5, 0.95);
            border-bottom: 1px solid var(--border);
            position: fixed; top: 0; width: 100%; z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .navbar {
            max-width: 1800px; margin: 0 auto; height: 100%;
            display: flex; align-items: center; justify-content: space-between; padding: 0 20px;
        }

        .logo {
            display: flex; align-items: center; gap: 12px; text-decoration: none; color: var(--text-main);
            font-family: 'Orbitron', sans-serif; font-weight: 900; font-size: 1.2rem; letter-spacing: 2px; text-transform: uppercase;
        }
        .logo img { height: 40px; filter: drop-shadow(0 0 5px var(--primary-glow)); }

        .nav-links { display: flex; list-style: none; gap: 5px; height: 100%; }
        .nav-links li a {
            color: var(--text-dim); text-decoration: none; font-size: 0.75rem; padding: 0 15px; height: 100%;
            transition: 0.3s; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 4px;
            border-bottom: 2px solid transparent;
        }
        .nav-links li a:hover, .nav-links li a.active {
            color: var(--primary); background: linear-gradient(to bottom, transparent 0%, rgba(230, 57, 70, 0.1) 100%);
            border-bottom-color: var(--primary);
        }
        .nav-text { font-size: 0.6rem; text-transform: uppercase; font-weight: bold; letter-spacing: 1px; }

        .menu-toggle { display: none; background: none; border: 1px solid var(--primary); color: var(--primary); padding: 8px 12px; border-radius: 4px; cursor: pointer; }

        /* --- Mobile Sidebar --- */
        .mobile-sidebar {
            position: fixed; top: 0; left: -100%; width: var(--sidebar-width); height: 100%;
            background: var(--bg-panel); border-right: 1px solid var(--primary); z-index: 2000;
            transition: 0.4s ease; padding-top: 20px; display: flex; flex-direction: column;
        }
        .mobile-sidebar.open { left: 0; box-shadow: 10px 0 50px rgba(0,0,0,0.8); }
        .sidebar-header { padding: 0 20px 20px; border-bottom: 1px solid #222; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
        .sidebar-links { list-style: none; overflow-y: auto; flex: 1; }
        .sidebar-links li a { padding: 15px 25px; display: flex; align-items: center; gap: 15px; color: var(--text-dim); text-decoration: none; transition: 0.2s; border-left: 4px solid transparent; font-family: 'Orbitron', sans-serif; font-size: 0.85rem; text-transform: uppercase; }
        .sidebar-links li a:hover { background: rgba(255,255,255,0.05); color: var(--primary); border-left-color: var(--primary); }
        .sidebar-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1999; display: none; backdrop-filter: blur(3px); }

        /* --- Main Content --- */
        main { margin-top: var(--nav-height); padding: 40px 20px; max-width: 1400px; margin-left: auto; margin-right: auto; }

        .hero { text-align: center; margin-bottom: 40px; padding: 40px; border: 1px solid var(--border); background: rgba(255,255,255,0.02); }
        .glitch-text { font-family: 'Orbitron', sans-serif; font-size: 2rem; color: var(--primary); text-transform: uppercase; letter-spacing: 2px; }

        .admin-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        
        .admin-card {
            background: var(--bg-panel); border: 1px solid var(--border); padding: 20px; border-radius: 4px;
        }
        .admin-card h3 { font-family: 'Orbitron'; color: var(--primary); margin-bottom: 15px; border-bottom: 1px solid var(--border); padding-bottom: 10px; }

        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; font-size: 0.7rem; color: var(--text-dim); margin-bottom: 5px; text-transform: uppercase; }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%; background: #000; border: 1px solid var(--border); color: #fff; padding: 10px; font-family: inherit; outline: none;
        }
        .form-group input:focus, .form-group textarea:focus { border-color: var(--primary); }

        .btn-admin {
            width: 100%; padding: 12px; background: var(--primary); color: #fff; border: none; font-family: 'Orbitron'; font-weight: bold; cursor: pointer; text-transform: uppercase; transition: 0.3s;
        }
        .btn-admin:hover { background: #ff4d5a; box-shadow: 0 0 15px var(--primary-glow); }

        .log-terminal {
            height: 300px; background: #000; border: 1px solid var(--border); padding: 15px; overflow-y: auto; font-size: 0.75rem; color: #00ff00; font-family: 'JetBrains Mono', monospace;
        }
        .log-line { margin-bottom: 5px; border-bottom: 1px solid #111; padding-bottom: 2px; }

        @media (max-width: 1024px) { .nav-links { display: none; } .menu-toggle { display: block; } }
    </style>
</head>
<body>

    <div class="scanlines"></div>
    <div class="sidebar-overlay" id="overlay" onclick="toggleSidebar()"></div>

    <!-- Mobile Sidebar -->
    <aside class="mobile-sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo"><img src="logo.png" alt="Logo"><span>ADMIN</span></div>
            <button class="menu-toggle" onclick="toggleSidebar()" style="display:block; border:none;"><i class="fa fa-times"></i></button>
        </div>
        <ul class="sidebar-links">
            <li><a href="index.html"><i class="fa fa-home"></i> Dashboard</a></li>
            <li><a href="forum.html"><i class="fa fa-comments"></i> Intel</a></li>
            <li><a href="sightings.html"><i class="fa fa-crosshairs"></i> Tracker</a></li>
            <li><a href="dinosaurs.html"><i class="fa fa-dna"></i> Species</a></li>
            <li><a href="users.html"><i class="fa fa-user-secret"></i> Agents</a></li>
            <li><a href="dms.html"><i class="fa fa-envelope"></i> DMs</a></li>
            <li><a href="blackmarket.html"><i class="fa fa-briefcase"></i> Market</a></li>
            <li><a href="vault.html"><i class="fa fa-lock"></i> Vault</a></li>
            <li><a href="profile.html"><i class="fa fa-cog"></i> System</a></li>
            <li><a href="admin.html" class="active"><i class="fa fa-terminal"></i> Admin</a></li>
            <li><a href="login.html"><i class="fa fa-sign-in-alt"></i> Logout</a></li>
        </ul>
    </aside>

    <header>
        <nav class="navbar">
            <a href="index.html" class="logo">
                <img src="logo.png" alt="Logo">
                <span>DARK JURASSIC</span>
            </a>
            <ul class="nav-links">
                <li><a href="index.html"><i class="fa fa-home"></i><span class="nav-text">Home</span></a></li>
                <li><a href="forum.html"><i class="fa fa-comments"></i><span class="nav-text">Intel</span></a></li>
                <li><a href="sightings.html"><i class="fa fa-crosshairs"></i><span class="nav-text">Tracker</span></a></li>
                <li><a href="dinosaurs.html"><i class="fa fa-dna"></i><span class="nav-text">Species</span></a></li>
                <li><a href="users.html"><i class="fa fa-user-secret"></i><span class="nav-text">Agents</span></a></li>
                <li><a href="dms.html"><i class="fa fa-envelope"></i><span class="nav-text">DMs</span></a></li>
                <li><a href="blackmarket.html"><i class="fa fa-briefcase"></i><span class="nav-text">Market</span></a></li>
                <li><a href="vault.html"><i class="fa fa-lock"></i><span class="nav-text">Vault</span></a></li>
                <li><a href="profile.html"><i class="fa fa-cog"></i><span class="nav-text">System</span></a></li>
                <li><a href="admin.html" class="active"><i class="fa fa-terminal"></i><span class="nav-text">Admin</span></a></li>
                <li><a href="login.html"><i class="fa fa-sign-in-alt"></i><span class="nav-text">Login</span></a></li>
            </ul>
            <button class="menu-toggle" onclick="toggleSidebar()"><i class="fa fa-bars"></i></button>
        </nav>
    </header>

    <main>
        <section class="hero">
            <h1 class="glitch-text">SYSTEM ADMINISTRATION</h1>
            <p style="color: var(--text-dim); font-size: 0.8rem;">RESTRICTED ACCESS: LEVEL 5 CLEARANCE REQUIRED</p>
        </section>

        <div class="admin-grid">
            <!-- Broadcast System -->
            <div class="admin-card">
                <h3><i class="fa fa-bullhorn"></i> GLOBAL BROADCAST</h3>
                <div class="form-group">
                    <label>Alert Title</label>
                    <input type="text" id="alertTitle" placeholder="SYSTEM ALERT">
                </div>
                <div class="form-group">
                    <label>Message Body</label>
                    <textarea id="alertMsg" rows="3" placeholder="Enter broadcast message..."></textarea>
                </div>
                <div class="form-group">
                    <label>Alert Level</label>
                    <select id="alertType">
                        <option value="info">INFO (Blue)</option>
                        <option value="success">SUCCESS (Green)</option>
                        <option value="warn">WARNING (Yellow)</option>
                        <option value="danger">CRITICAL (Red)</option>
                    </select>
                </div>
                <button class="btn-admin" onclick="sendBroadcast()">TRANSMIT SIGNAL</button>
            </div>

            <!-- User Management -->
            <div class="admin-card">
                <h3><i class="fa fa-users-cog"></i> AGENT MANAGEMENT</h3>
                <div class="form-group">
                    <label>Target Agent ID</label>
                    <input type="text" id="targetAgent" placeholder="Agent Username">
                </div>
                <div class="form-group">
                    <label>Action</label>
                    <select id="agentAction">
                        <option value="ban">REVOKE ACCESS (Ban)</option>
                        <option value="promote">GRANT CLEARANCE (Promote)</option>
                        <option value="reset">RESET CREDENTIALS</option>
                    </select>
                </div>
                <button class="btn-admin" onclick="manageAgent()">EXECUTE COMMAND</button>
            </div>

            <!-- System Logs -->
            <div class="admin-card" style="grid-column: 1 / -1;">
                <h3><i class="fa fa-list-alt"></i> SYSTEM LOGS</h3>
                <div class="log-terminal" id="sysLogs">
                    <div class="log-line">> SYSTEM_INIT... OK</div>
                    <div class="log-line">> CONNECTING TO FIREBASE ADMIN SDK... OK</div>
                </div>
            </div>
        </div>
    </main>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBxYUTNlBuhPQ2neLPAYCLDg0e-J76DIuU",
            authDomain: "dark-jurassic-378b5.firebaseapp.com",
            databaseURL: "https://dark-jurassic-378b5-default-rtdb.firebaseio.com/",
            projectId: "dark-jurassic-378b5",
            storageBucket: "dark-jurassic-378b5.firebasestorage.app",
            messagingSenderId: "144100722100",
            appId: "1:144100722100:web:be3b4690724a7a117fdee1"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        const auth = firebase.auth();

        // Auth Check
        auth.onAuthStateChanged(user => {
            if (!user) {
                window.location.href = 'login.html';
            } else {
                log(`ADMIN SESSION VERIFIED: ${user.email}`);
            }
        });

        function toggleSidebar() {
            const sb = document.getElementById('sidebar');
            const ov = document.getElementById('overlay');
            if (sb.classList.contains('open')) {
                sb.classList.remove('open');
                ov.style.display = 'none';
            } else {
                sb.classList.add('open');
                ov.style.display = 'block';
            }
        }

        function log(msg) {
            const term = document.getElementById('sysLogs');
            const time = new Date().toLocaleTimeString();
            term.innerHTML += `<div class="log-line">[${time}] > ${msg}</div>`;
            term.scrollTop = term.scrollHeight;
        }

        function sendBroadcast() {
            const title = document.getElementById('alertTitle').value;
            const msg = document.getElementById('alertMsg').value;
            const type = document.getElementById('alertType').value;

            if(!title || !msg) {
                alert("ERROR: Missing broadcast parameters.");
                return;
            }

            db.ref('alerts').push({
                title: title,
                message: msg,
                type: type,
                timestamp: firebase.database.ServerValue.TIMESTAMP
            }).then(() => {
                log(`BROADCAST SENT: ${title}`);
                document.getElementById('alertTitle').value = "";
                document.getElementById('alertMsg').value = "";
            });
        }

        function manageAgent() {
            const agent = document.getElementById('targetAgent').value;
            const action = document.getElementById('agentAction').value;

            if(!agent) {
                alert("ERROR: Target agent ID required.");
                return;
            }

            // Simulation of admin action (would require backend logic for real auth management)
            log(`EXECUTING ${action.toUpperCase()} ON AGENT: ${agent}...`);
            setTimeout(() => {
                log(`COMMAND SUCCESSFUL. DATABASE UPDATED.`);
            }, 1000);
        }
    </script>
</body>
</html>
